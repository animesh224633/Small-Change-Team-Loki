2022-11-09 09:45:21.108  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 09:45:22.894  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 09:46:40.640 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 09:46:40.660 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 09:46:40.682 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 09:46:40.683  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 09:46:40.748 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:46:40.750 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 09:46:40.753 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 09:46:40.754  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:46:40.776 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:46:40.777 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 09:46:40.780 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 09:46:40.780  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:46:40.783 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 09:46:40.783 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 09:46:40.784 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 09:46:40.785  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 09:46:51.033 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 09:46:51.034 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 09:46:51.035 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 09:46:51.037  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:53.718 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:46:53.719 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:46:53.720 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:46:53.721  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:55.360 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='BUY' and client_id=?
2022-11-09 09:46:55.361 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==> Parameters: 1(String)
2022-11-09 09:46:55.364 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : <==      Total: 2
2022-11-09 09:46:55.365  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:56.506 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:46:56.508 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:46:56.509 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:46:56.509  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:57.033 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 09:46:57.033 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 09:46:57.035 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 09:46:57.035  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:57.964 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:46:57.965 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:46:57.966 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:46:57.967  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:58.574 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='BUY' and client_id=?
2022-11-09 09:46:58.575 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==> Parameters: 1(String)
2022-11-09 09:46:58.577 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : <==      Total: 2
2022-11-09 09:46:58.577  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:59.280 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:46:59.281 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:46:59.282 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:46:59.283  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:46:59.751 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 09:46:59.752 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 09:46:59.754 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 09:46:59.754  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:45.289 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 09:49:45.290 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 09:49:45.291 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:49:45.291 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 09:49:45.293  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 09:49:45.295 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 09:49:45.300 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 09:49:45.300  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:49:45.312 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:49:45.314 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 09:49:45.318 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 09:49:45.319  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:49:47.019 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 09:49:47.020 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 09:49:47.023 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 09:49:47.023  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:48.407 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:49:48.408 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:49:48.409 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:49:48.409  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:48.986 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='BUY' and client_id=?
2022-11-09 09:49:48.987 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==> Parameters: 1(String)
2022-11-09 09:49:48.988 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : <==      Total: 2
2022-11-09 09:49:48.989  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:49.452 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:49:49.453 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:49:49.454 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:49:49.454  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:49.836 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 09:49:49.837 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 09:49:49.841 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 09:49:49.842  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:50.364 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='BUY' and client_id=?
2022-11-09 09:49:50.365 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==> Parameters: 1(String)
2022-11-09 09:49:50.366 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : <==      Total: 2
2022-11-09 09:49:50.367  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:51.014 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:49:51.015 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:49:51.016 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:49:51.017  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:49:51.378 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 09:49:51.380 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 09:49:51.381 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 09:49:51.381  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:50:03.513 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:50:03.514 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 09:50:03.516 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:50:03.516  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:50:05.110 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 09:50:05.111 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 09:50:05.112 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 09:50:05.112  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 09:50:05.111 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:50:05.115 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 09:50:05.116 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 09:50:05.117  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:50:05.130 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:50:05.132 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 09:50:05.132 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 09:50:05.133  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:50:26.431 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 09:50:26.433 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: qq@gmail.com(String), teamloki(String)
2022-11-09 09:50:26.434 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 09:50:26.434 ERROR --- c.s.r.ClientAuthenticationService        : Client Id and password do not match
2022-11-09 09:50:34.995 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 09:50:34.996 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: bfc5db49-9981-4352-9f14-5c26eb295f0e(String), adwad(String), qqq@gmail.com(String), 0(BigDecimal), teamloki(String)
2022-11-09 09:50:34.997 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 09:50:34.998  INFO --- c.s.r.ClientAuthenticationService        : Successfully registered
2022-11-09 09:51:24.129 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 09:51:24.130 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: 758adc70-674e-4fc2-b72e-5212abaefb18(String), adwads(String), qqq@gmail.com(String), 0(BigDecimal), teamloki(String)
2022-11-09 09:51:24.130 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 09:51:24.131  INFO --- c.s.r.ClientAuthenticationService        : Successfully registered
2022-11-09 09:53:40.061  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 09:53:41.872  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 09:54:20.893 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 09:54:20.911 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: e96f745a-eee9-4e80-a693-7abe411f7e22(String), aa(String), teamloki@gmail.com(String), 0(BigDecimal), teamloki(String)
2022-11-09 09:54:20.912 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 09:54:20.913  INFO --- c.s.r.ClientAuthenticationService        : Successfully registered
2022-11-09 09:54:45.170 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 09:54:45.172 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 09:54:45.198 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 2
2022-11-09 09:54:45.205 ERROR --- c.s.r.ClientAuthenticationService        : nested exception is org.apache.ibatis.exceptions.TooManyResultsException: Expected one result (or null) to be returned by selectOne(), but found: 2
2022-11-09 09:56:14.997 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 09:56:14.998 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String), fdafaf(String), qq@gmail.com(String), 0(BigDecimal), teamloki(String)
2022-11-09 09:56:14.999 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 09:56:14.999  INFO --- c.s.r.ClientAuthenticationService        : Successfully registered
2022-11-09 09:56:19.884 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 09:56:19.886 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: qq@gmail.com(String), teamloki(String)
2022-11-09 09:56:19.887 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 09:56:19.888  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 09:56:19.928  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "c424f66b-0e01-489b-9b58-118ade9df3cc"]
2022-11-09 09:56:19.935 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:56:19.937 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:56:19.938 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:56:19.938  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:56:19.946 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:56:19.948 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:56:19.949 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:56:19.949  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:56:31.043 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 09:56:31.044 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:56:31.045 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 09:56:31.046  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:56:33.163 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 09:56:33.166 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:56:33.166 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 09:56:33.167  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:56:33.890 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='BUY' and client_id=?
2022-11-09 09:56:33.892 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:56:33.892 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : <==      Total: 0
2022-11-09 09:56:33.893  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 09:56:35.884  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "c424f66b-0e01-489b-9b58-118ade9df3cc"]
2022-11-09 09:56:35.884 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:56:35.890 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:56:35.890 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:56:35.892  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:56:35.899 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:56:35.900 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:56:35.902 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:56:35.902  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:57:31.008  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2022-11-09 09:57:31.008 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:57:31.009 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 09:57:31.010 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:57:31.011  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:57:31.017 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:57:31.018 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 09:57:31.019 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:57:31.020  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:58:48.028  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2022-11-09 09:58:48.029 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:58:48.031 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 09:58:48.033 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:58:48.033  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:58:48.041 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:58:48.043 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 09:58:48.044 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:58:48.045  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:59:05.543  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2022-11-09 09:59:05.544 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:59:05.546 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 09:59:05.547 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:59:05.547  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:59:05.551 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:59:05.553 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 09:59:05.554 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:59:05.554  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:59:26.547 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 09:59:26.548 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: qq@gmail.com(String), teamloki(String)
2022-11-09 09:59:26.549 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 09:59:26.550  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 09:59:26.579  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "c424f66b-0e01-489b-9b58-118ade9df3cc"]
2022-11-09 09:59:26.579 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:59:26.581 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:59:26.582 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:59:26.582  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 09:59:26.591 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 09:59:26.592 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: c424f66b-0e01-489b-9b58-118ade9df3cc(String)
2022-11-09 09:59:26.593 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 09:59:26.593  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:00:07.551 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 10:00:07.552 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 10:00:07.553 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 2
2022-11-09 10:00:07.553 ERROR --- c.s.r.ClientAuthenticationService        : nested exception is org.apache.ibatis.exceptions.TooManyResultsException: Expected one result (or null) to be returned by selectOne(), but found: 2
2022-11-09 10:00:13.763 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 10:00:13.764 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 10:00:13.765 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 2
2022-11-09 10:00:13.765 ERROR --- c.s.r.ClientAuthenticationService        : nested exception is org.apache.ibatis.exceptions.TooManyResultsException: Expected one result (or null) to be returned by selectOne(), but found: 2
2022-11-09 10:00:29.722  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 10:00:31.484  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 10:00:31.741 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 10:00:31.759 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 10:00:31.779 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 10:00:31.781  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 10:00:31.951 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 10:00:31.952 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 10:00:31.953 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 10:00:31.954  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:00:31.972 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:00:31.975 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:00:31.977 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:00:31.978  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:00:32.005 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:00:32.009 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:00:32.015 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:00:32.016  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:01:15.959 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 10:01:15.961 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: a04d9b85-acf2-4495-bc6c-f1779985c9c0(String), yugiug(String), teamloki2@gmail.com(String), 0(BigDecimal), teamloki2(String)
2022-11-09 10:01:15.962 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 10:01:15.963  INFO --- c.s.r.ClientAuthenticationService        : Successfully registered
2022-11-09 10:01:20.675 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 10:01:20.676 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki2@gmail.com(String), teamloki2(String)
2022-11-09 10:01:20.677 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 10:01:20.677  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 10:01:20.735 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:01:20.737 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: a04d9b85-acf2-4495-bc6c-f1779985c9c0(String)
2022-11-09 10:01:20.737  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "a04d9b85-acf2-4495-bc6c-f1779985c9c0"]
2022-11-09 10:01:20.738 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:01:20.738  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:01:20.747 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:01:20.749 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: a04d9b85-acf2-4495-bc6c-f1779985c9c0(String)
2022-11-09 10:01:20.751 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:01:20.752  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:05:28.283  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2022-11-09 10:05:28.296 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:05:28.297 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 10:05:28.297 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:05:28.298  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:05:28.320 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:05:28.322 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 10:05:28.323 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:05:28.324  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:06:13.462  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2022-11-09 10:06:13.472 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:06:13.475 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 10:06:13.475 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:06:13.477  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:06:13.486 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:06:13.487 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 10:06:13.487 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:06:13.488  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:15:46.031  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2022-11-09 10:15:46.031 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:15:46.033 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 10:15:46.034 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:15:46.035  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:15:46.040 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:15:46.041 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 10:15:46.042 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 10:15:46.043  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:18:51.346  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 10:18:53.152  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 10:18:53.315 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:18:53.352 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:18:53.381 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:18:53.383  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:20:19.294 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 10:20:19.295 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 10:20:19.296 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 10:20:19.297 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 10:20:19.299 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2844.6(Float), 1(String)
2022-11-09 10:20:19.301 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 10:20:19.302 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 10:20:19.303 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 10:20:19.304 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 10:20:19.305 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==>  Preparing: Update holdings set buyprice=?, quantity=? where client_id=? and code=?
2022-11-09 10:20:19.306 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==> Parameters: 100.50(BigDecimal), 16(Integer), 1(String), AMZN(String)
2022-11-09 10:20:19.307 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : <==    Updates: 1
2022-11-09 10:20:19.307 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 10:20:19.308 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 100.50(BigDecimal), 1(String), AMZN(String), BUY(String), 9877hffu66686767dfesfsf87ufyfy4uyuef577(String), 16(Integer), 2019-03-29(LocalDate)
2022-11-09 10:20:19.309 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 10:20:29.742  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-11-09 10:20:34.252 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:20:34.254 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:20:34.256 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:20:34.256  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:26:10.834 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:26:10.836 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:26:10.838 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:26:10.839  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:26:25.138 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 10:26:25.139 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 10:26:25.141 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 10:26:25.142 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 10:26:25.143 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2744.6(Float), 1(String)
2022-11-09 10:26:25.144 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 10:26:25.145 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 10:26:25.145 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 10:26:25.147 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 10:26:25.147 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==>  Preparing: Update holdings set buyprice=?, quantity=? where client_id=? and code=?
2022-11-09 10:26:25.148 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==> Parameters: 620.85(BigDecimal), 2(Integer), 1(String), LMF(String)
2022-11-09 10:26:25.149 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : <==    Updates: 1
2022-11-09 10:26:25.149 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 10:26:25.150 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 620.85(BigDecimal), 1(String), LMF(String), BUY(String), 9877hdfdfdffffu66686767dfesfsf87ufyfy4uyuef577(String), 2(Integer), 2019-03-29(LocalDate)
2022-11-09 10:26:25.151 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 10:26:30.833 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:26:30.835 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:26:30.837 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:26:30.837  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:30:04.683 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 10:30:04.685 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 10:30:04.686 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 10:30:04.687  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 10:30:04.775 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 10:30:04.777 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 10:30:04.779 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 10:30:04.781  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:30:04.791 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:30:04.792 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:30:04.794 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:30:04.794  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:30:04.859 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:30:04.863 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:30:04.865 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:30:04.866  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:30:28.477 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:30:28.478 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:30:28.479 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:30:28.480  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:30:45.854 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 10:30:45.855 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 10:30:45.856 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 10:30:45.857 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:30:45.858 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:30:45.859 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:30:45.861 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 10:30:45.862 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 2767.60009765625000000000000000000000(BigDecimal), 1(String)
2022-11-09 10:30:45.863 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 10:30:45.864 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 10:30:45.865 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 7753.99000000000000000000000000000000(BigDecimal), 1(String), IIGG776(String)
2022-11-09 10:30:45.866 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 10:30:45.866  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:30:45.880 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:30:45.881 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:30:45.884 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:30:45.885  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:05.461 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 10:31:05.462 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 10:31:05.464 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 10:31:05.465 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:31:05.465 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:31:05.466 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:31:05.466 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 10:31:05.467 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3767.60009765625000000000000000000000(BigDecimal), 1(String)
2022-11-09 10:31:05.467 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 10:31:05.468 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 10:31:05.469 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 6753.99000000000000000000000000000000(BigDecimal), 1(String), IIGG776(String)
2022-11-09 10:31:05.470 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 10:31:05.470  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:05.483 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:31:05.484 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:31:05.485 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:31:05.485  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:26.575 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 10:31:26.576 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 10:31:26.577 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 10:31:26.577 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:31:26.578 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:31:26.579 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:31:26.579 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 10:31:26.580 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 4767.60009765625000000000000000000000(BigDecimal), 1(String)
2022-11-09 10:31:26.580 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 10:31:26.581 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 10:31:26.582 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 5753.99000000000000000000000000000000(BigDecimal), 1(String), IIGG776(String)
2022-11-09 10:31:26.583 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 10:31:26.583  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:26.595 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:31:26.596 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:31:26.597 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:31:26.598  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:39.111 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:31:39.111 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:31:39.113 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:31:39.113  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:45.496 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 10:31:45.497 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 10:31:45.498 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 10:31:45.499 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:31:45.500 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:31:45.501 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:31:45.502 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 10:31:45.503 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 5767.60009765625000000000000000000000(BigDecimal), 1(String)
2022-11-09 10:31:45.503 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 10:31:45.503 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 10:31:45.504 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45644444.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 10:31:45.504 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 10:31:45.505  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:45.520 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:31:45.521 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:31:45.522 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:31:45.522  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:53.058 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 10:31:53.060 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 10:31:53.061 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 4
2022-11-09 10:31:53.062  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 10:31:54.042 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 10:31:54.043 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 10:31:54.044 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 10:31:54.045  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:31:54.049 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:31:54.049 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:31:54.051 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:31:54.052  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:31:54.063 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:31:54.064 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:31:54.069 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:31:54.069  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:32:34.097 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:32:34.098 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:32:34.099 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:32:34.100  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:32:39.084 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:32:39.085 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:32:39.086 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:32:39.086  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:32:42.136 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 10:32:42.137 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 10:32:42.138 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 10:32:42.138  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 10:41:04.120  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 10:41:05.916  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 10:41:27.111 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:41:27.129 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:41:27.151 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:41:27.153  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 10:41:59.381 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 10:41:59.382 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 10:41:59.383 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 10:41:59.384 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 10:41:59.386 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 3344.6(Float), 1(String)
2022-11-09 10:41:59.388 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 10:41:59.389 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 10:41:59.390 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 10:41:59.391 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 10:41:59.392 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==>  Preparing: Update holdings set buyprice=?, quantity=? where client_id=? and code=?
2022-11-09 10:41:59.394 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==> Parameters: 620.85(BigDecimal), 2(Integer), 1(String), LMF(String)
2022-11-09 10:41:59.394 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : <==    Updates: 1
2022-11-09 10:41:59.395 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 10:41:59.396 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 620.85(BigDecimal), 1(String), LMF(String), BUY(String), 9877hdfyufydfdffffu66686767dfesfsf87ufyfy4uyuef577(String), 2(Integer), 2019-03-29(LocalDate)
2022-11-09 10:41:59.396 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 10:42:51.294 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 10:42:51.295 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 10:42:51.297 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 10:42:51.299  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:04:49.550  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 11:04:51.299  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 11:05:05.188 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:05:05.209 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:05:05.229 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:05:05.233 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:05:05.235 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2444.6(Float), 1(String)
2022-11-09 11:05:05.238 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:05:05.239 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:05:05.240 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:05:05.242 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:05:05.243 DEBUG --- c.s.i.m.OrderMapper.getHoldingBuyPrice   : ==>  Preparing: SELECT buyprice from holdings where client_id=? and code=?
2022-11-09 11:05:05.243 DEBUG --- c.s.i.m.OrderMapper.getHoldingBuyPrice   : ==> Parameters: 1(String), AMZN(String)
2022-11-09 11:05:05.245 DEBUG --- c.s.i.m.OrderMapper.getHoldingBuyPrice   : <==      Total: 1
2022-11-09 11:05:05.247 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==>  Preparing: Update holdings set buyprice=?, quantity=? where client_id=? and code=?
2022-11-09 11:05:05.248 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : ==> Parameters: 125.35(BigDecimal), 20(Integer), 1(String), AMZN(String)
2022-11-09 11:05:05.249 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsUpdate      : <==    Updates: 1
2022-11-09 11:05:05.250 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:05:05.251 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 125.35(BigDecimal), 1(String), AMZN(String), BUY(String), 98UFUU77hdfyufydfdffffu66686767dfesfsf87ufyfy4uyuef577(String), 20(Integer), 2019-03-29(LocalDate)
2022-11-09 11:05:05.251 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:05:21.485 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:05:21.486 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:05:21.487 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:05:21.487  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:07:26.885 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:07:26.887 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:07:26.889 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:07:26.889 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:07:26.891 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 1444.6(Float), 1(String)
2022-11-09 11:07:26.891 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:07:26.892 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:07:26.892 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:07:26.895 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:07:26.896 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:07:26.897 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 2bc8217f-4019-4780-8538-3f4fd578689a(String), 100(BigDecimal), 1(String), APL(String), 10(Integer)
2022-11-09 11:07:26.897 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:07:26.898 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:07:26.898 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 100(BigDecimal), 1(String), APL(String), BUY(String), 98UFUUffi77hdfyufydfdffffu66686767dfesfsf87ufyfy4uyuef577(String), 10(Integer), 2019-03-29(LocalDate)
2022-11-09 11:07:26.899 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:07:34.061 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:07:34.065 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:07:34.073 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 3
2022-11-09 11:07:34.075  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:08:37.629 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:08:37.631 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:08:37.632 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:08:37.643 ERROR --- o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.multiply(java.math.BigDecimal)" because the return value of "com.smallchange.uimodel.SellOrder.getSellPrice()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.multiply(java.math.BigDecimal)" because the return value of "com.smallchange.uimodel.SellOrder.getSellPrice()" is null
	at com.smallchange.integration.OrderDaoMyBatisImpl.putSellTrade(OrderDaoMyBatisImpl.java:176)
	at com.smallchange.integration.OrderDaoMyBatisImpl$$FastClassBySpringCGLIB$$8f0a3bd1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.smallchange.integration.OrderDaoMyBatisImpl$$EnhancerBySpringCGLIB$$336a0e45.putSellTrade(<generated>)
	at com.smallchange.restService.OrderMapperService.queryPutSellTrade(OrderMapperService.java:99)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-09 11:09:01.082 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:09:01.083 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:09:01.083 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:09:01.084 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:09:01.085 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==> Parameters: 2044.6(Float), 1(String)
2022-11-09 11:09:01.087 DEBUG --- c.s.i.m.O.updateClientWalletSell         : <==    Updates: 1
2022-11-09 11:09:01.088 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:09:01.088 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:09:01.090 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 4
2022-11-09 11:09:01.091 DEBUG --- c.s.i.m.O.putSellTradeHoldingsUpdate     : ==>  Preparing: Update holdings set quantity=? where client_id=? and code=?
2022-11-09 11:09:01.091 DEBUG --- c.s.i.m.O.putSellTradeHoldingsUpdate     : ==> Parameters: 4(Integer), 1(String), APL(String)
2022-11-09 11:09:01.091 DEBUG --- c.s.i.m.O.putSellTradeHoldingsUpdate     : <==    Updates: 1
2022-11-09 11:09:01.092 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:09:01.092 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : ==> Parameters: 100(BigDecimal), 1(String), APL(String), SELL(String), 98UFUUffi77uffuhdfyufydfdffffu66686767dfesfsf87ufyfy4uyuef577(String), 4(Integer), 2019-03-29(LocalDate)
2022-11-09 11:09:01.094 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : <==    Updates: 1
2022-11-09 11:09:11.725 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:09:11.727 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:09:11.729 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 3
2022-11-09 11:09:11.730  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:10:43.322 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:10:43.323 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:10:43.323 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:10:43.324 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:10:43.325 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==> Parameters: 2644.6(Float), 1(String)
2022-11-09 11:10:43.325 DEBUG --- c.s.i.m.O.updateClientWalletSell         : <==    Updates: 1
2022-11-09 11:10:43.326 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:10:43.326 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:10:43.327 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 4
2022-11-09 11:10:43.328 DEBUG --- c.s.i.m.O.putSellTradeHoldingsUpdate     : ==>  Preparing: Update holdings set quantity=? where client_id=? and code=?
2022-11-09 11:10:43.328 DEBUG --- c.s.i.m.O.putSellTradeHoldingsUpdate     : ==> Parameters: -2(Integer), 1(String), APL(String)
2022-11-09 11:10:43.329 DEBUG --- c.s.i.m.O.putSellTradeHoldingsUpdate     : <==    Updates: 1
2022-11-09 11:10:43.329 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:10:43.330 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : ==> Parameters: 100(BigDecimal), 1(String), APL(String), SELL(String), 98UFUUffi77uffuhyfy4uyuef577(String), -2(Integer), 2019-03-29(LocalDate)
2022-11-09 11:10:43.330 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : <==    Updates: 1
2022-11-09 11:11:44.781 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:11:44.782 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:11:44.784 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 3
2022-11-09 11:11:44.785  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:15:57.967  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 11:15:59.802  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 11:20:46.043  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 11:20:47.801  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 11:21:52.889 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:21:52.907 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:21:52.926 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:21:52.929 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:21:52.932 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==> Parameters: 5444.6(Float), 1(String)
2022-11-09 11:21:52.934 DEBUG --- c.s.i.m.O.updateClientWalletSell         : <==    Updates: 1
2022-11-09 11:21:52.935 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:21:52.936 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:21:52.939 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:21:52.947 ERROR --- o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.smallchange.exception.InsufficientFundsException: You do not have enough holdings to execute this sell trade] with root cause
com.smallchange.exception.InsufficientFundsException: You do not have enough holdings to execute this sell trade
	at com.smallchange.integration.OrderDaoMyBatisImpl.putSellTrade(OrderDaoMyBatisImpl.java:204)
	at com.smallchange.integration.OrderDaoMyBatisImpl$$FastClassBySpringCGLIB$$8f0a3bd1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.smallchange.integration.OrderDaoMyBatisImpl$$EnhancerBySpringCGLIB$$fdf193dc.putSellTrade(<generated>)
	at com.smallchange.restService.OrderMapperService.queryPutSellTrade(OrderMapperService.java:99)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-09 11:22:44.076 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:22:44.078 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:22:44.079 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:22:44.080 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:22:44.081 DEBUG --- c.s.i.m.O.updateClientWalletSell         : ==> Parameters: 7444.6(Float), 1(String)
2022-11-09 11:22:44.082 DEBUG --- c.s.i.m.O.updateClientWalletSell         : <==    Updates: 1
2022-11-09 11:22:44.083 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:22:44.084 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:22:44.086 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:22:44.086 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:22:44.087 DEBUG --- c.s.i.m.OrderMapper.putSellTradeOrder    : ==> Parameters: 100(BigDecimal), 1(String), APLJYC(String), SELL(String), 98UFUUffi77uffuhyURYUfy4uyuef577(String), 20(Integer), 2019-03-29(LocalDate)
2022-11-09 11:22:44.149 ERROR --- o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: foreign key no parent; SYS_FK_10104 table: ORDERS value: APLJYC
### The error may exist in com/smallchange/integration/mapper/OrderMapper.java (best guess)
### The error may involve com.smallchange.integration.mapper.OrderMapper.putSellTradeOrder-Inline
### The error occurred while setting parameters
### SQL: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: foreign key no parent; SYS_FK_10104 table: ORDERS value: APLJYC
; integrity constraint violation: foreign key no parent; SYS_FK_10104 table: ORDERS value: APLJYC; nested exception is java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: foreign key no parent; SYS_FK_10104 table: ORDERS value: APLJYC] with root cause
org.hsqldb.HsqlException: integrity constraint violation: foreign key no parent; SYS_FK_10104 table: ORDERS value: APLJYC
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.Constraint.getException(Unknown Source)
	at org.hsqldb.Constraint.checkInsert(Unknown Source)
	at org.hsqldb.StatementDML.performIntegrityChecks(Unknown Source)
	at org.hsqldb.StatementDML.insertSingleRow(Unknown Source)
	at org.hsqldb.StatementInsert.getResult(Unknown Source)
	at org.hsqldb.StatementDMQL.execute(Unknown Source)
	at org.hsqldb.Session.executeCompiledStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	at org.hsqldb.jdbc.JDBCPreparedStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCPreparedStatement.execute(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy3/jdk.proxy3.$Proxy108.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:194)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:181)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	at jdk.proxy2/jdk.proxy2.$Proxy76.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy78.putSellTradeOrder(Unknown Source)
	at com.smallchange.integration.OrderDaoMyBatisImpl.putSellTrade(OrderDaoMyBatisImpl.java:234)
	at com.smallchange.integration.OrderDaoMyBatisImpl$$FastClassBySpringCGLIB$$8f0a3bd1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.smallchange.integration.OrderDaoMyBatisImpl$$EnhancerBySpringCGLIB$$fdf193dc.putSellTrade(<generated>)
	at com.smallchange.restService.OrderMapperService.queryPutSellTrade(OrderMapperService.java:99)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-09 11:24:35.547 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:24:35.577 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 11:24:35.603 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:24:35.632 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:24:35.635 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:24:35.640 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:24:35.720 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:24:35.724 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:24:35.730 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:24:35.753 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:24:35.756 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:24:35.779 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:24:35.907 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 11:24:35.911 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 11:24:35.914 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 11:24:35.952 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:24:35.955 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:24:35.957 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:24:35.959 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:24:35.962 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:24:35.967 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:24:35.976 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:24:35.977 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:24:35.980 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:24:35.986 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:24:35.988 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 8c849de6-c89f-407b-9915-d6230d1942ae(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 11:24:35.990 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:24:35.991 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:24:35.995 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 748192f5-da05-4cfa-968f-91e38cbd3f72(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:24:35.996 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:24:36.011 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:24:36.012 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:24:36.013 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:24:36.014 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:24:36.018 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:24:36.019 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:24:36.021 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:24:36.027 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:24:36.034 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:24:36.039 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:24:36.041 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 514a87eb-848f-49ba-8318-db8e0c692fa6(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 11:24:36.043 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:24:36.046 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:24:36.048 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 784198c3-291e-4767-a936-40f7109be140(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:24:36.048 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:24:36.063 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:24:36.067 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:24:36.086 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:24:36.501  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a683691win with PID 7712 (started by a683691 in C:\Users\Associate\Desktop\New folder (2)\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:24:36.501 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:24:36.502  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:24:37.341  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.887 seconds (JVM running for 10.471)
2022-11-09 11:24:37.436  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:24:37.667  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:24:37.688  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:24:37.714 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:24:37.772 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:24:37.779 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:24:37.781 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:24:37.781  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:24:37.799 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:24:37.800 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:24:37.801 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:24:37.801  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:24:37.860  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a683691win with PID 7712 (started by a683691 in C:\Users\Associate\Desktop\New folder (2)\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:24:37.861 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:24:37.861  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 11:24:38.652  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 11:24:40.039  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63818 (http) with context path ''
2022-11-09 11:24:40.048  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.231 seconds (JVM running for 13.178)
2022-11-09 11:24:40.240 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:24:40.245 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:24:40.247 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:24:40.249  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:27:07.723 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 11:27:07.750 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 11:27:07.780 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 11:27:07.827 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:27:07.830 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:27:07.831 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:27:07.834 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:27:07.837 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:27:07.841 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:27:07.843 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:27:07.844 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:27:07.847 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:27:07.852 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:27:07.854 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: ce414cde-b254-4e1e-9a24-4140b25ae469(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 11:27:07.854 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:27:07.855 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:27:07.857 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 2ff675d3-738a-4115-9dd6-0bcbb24cd12d(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:27:07.857 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:27:07.867 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:27:07.868 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:27:07.869 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:27:07.871 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:27:07.872 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:27:07.872 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:27:07.873 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:27:07.874 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:27:07.877 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:27:07.879 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:27:07.880 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 6906d1f5-c111-4150-a620-eeb8725a0c7f(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 11:27:07.881 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:27:07.881 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:27:07.884 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 0cf88c6c-8165-4720-9e03-caee15546cc1(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:27:07.885 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:27:07.895 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:27:07.896 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:27:07.898 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:27:31.386 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:27:31.418 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 11:27:31.445 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:27:31.473 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:27:31.475 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:27:31.480 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:27:31.522 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:27:31.524 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:27:31.527 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:27:31.542 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:27:31.545 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:27:31.547 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:27:31.597 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 11:27:31.598 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 11:27:31.600 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 11:27:31.625 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:27:31.626 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:27:31.628 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:27:31.631 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:27:31.633 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:27:31.641 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:27:31.643 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:27:31.645 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:27:31.647 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:27:31.658 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:27:31.659 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: f35316cf-9929-4687-bf07-b9610e473389(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 11:27:31.660 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:27:31.660 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:27:31.663 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 5c88e275-61df-48b9-874d-ea0fc496ceab(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:27:31.663 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:27:31.678 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:27:31.680 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:27:31.681 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:27:31.682 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:27:31.683 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:27:31.684 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:27:31.685 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:27:31.686 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:27:31.689 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:27:31.690 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:27:31.691 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: f988cde9-76e8-4161-9905-ec44594a2564(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 11:27:31.691 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:27:31.692 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:27:31.693 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), d7f052e3-85a4-4230-bbdf-8d28f87e2e0a(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:27:31.694 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:27:31.705 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:27:31.708 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:27:31.710 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:27:32.070  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a683691win with PID 7928 (started by a683691 in C:\Users\Associate\Desktop\New folder (2)\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:27:32.070 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:27:32.071  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:27:32.871  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.842 seconds (JVM running for 9.794)
2022-11-09 11:27:32.971  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:27:33.183  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:27:33.202  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:27:33.220 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:27:33.255 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:27:33.257 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:27:33.257 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:27:33.258  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:27:33.271 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:27:33.272 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:27:33.272 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:27:33.273  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:27:33.373  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a683691win with PID 7928 (started by a683691 in C:\Users\Associate\Desktop\New folder (2)\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:27:33.373 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:27:33.373  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 11:27:34.143  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 11:27:35.844  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63846 (http) with context path ''
2022-11-09 11:27:35.854  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.559 seconds (JVM running for 12.778)
2022-11-09 11:27:36.049 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:27:36.049 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:27:36.050 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:27:36.051  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:34:54.946  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 11:34:56.811  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 11:34:59.817 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:35:00.017 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:35:00.045 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:35:00.047  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:35:00.395 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:00.397 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:00.401 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:00.402 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 11:35:00.402  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:00.403 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 11:35:00.405 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 11:35:00.405  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 11:35:00.428 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:00.435 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:00.444 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:00.445  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:04.741 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 11:35:04.743 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 11:35:04.744 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 11:35:04.744  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 11:35:04.754 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:04.756 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:04.758 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:04.759  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:04.767 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:04.769 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:04.771 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:04.771  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:07.248  WARN --- .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2022-11-09 11:35:07.250 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:07.252 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 11:35:07.252 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 11:35:07.253  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:07.272 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:07.273 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: undefined(String)
2022-11-09 11:35:07.274 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 0
2022-11-09 11:35:07.274  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:18.948 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 11:35:18.949 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 11:35:18.950 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 11:35:18.950  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 11:35:18.998 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 11:35:18.999 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 11:35:19.000 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 11:35:19.001  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 11:35:19.004 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:19.006 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:19.008 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:19.008  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:19.020 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:19.022 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:19.024 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:19.025  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:21.916 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 11:35:21.917 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 11:35:21.918 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 11:35:21.918  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 11:35:29.326 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 11:35:29.328 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 11:35:29.329 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 11:35:29.330 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 11:35:29.331 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 11:35:29.333 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 11:35:29.336 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 11:35:29.337 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3454.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 11:35:29.339 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 11:35:29.340 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 11:35:29.341 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 7766.99000000000000000000000000000000(BigDecimal), 1(String), IIGG776(String)
2022-11-09 11:35:29.342 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 11:35:29.342  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 11:35:29.353 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 11:35:29.354 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 11:35:29.355 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 11:35:29.355  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 11:35:34.633 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:35:34.634 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:35:34.635 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:35:34.636  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:35:36.124 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 11:35:36.125 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 11:35:36.126 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 11:35:36.126 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:36.127 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:36.129 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:36.126  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 11:35:36.129  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:36.141 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:35:36.142 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:35:36.148 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:35:36.148  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 11:35:37.989 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:35:37.990 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:35:37.991 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:35:37.991  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:35:39.684 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='SELL' and client_id=?
2022-11-09 11:35:39.684 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : ==> Parameters: 1(String)
2022-11-09 11:35:39.685 DEBUG --- c.s.i.m.T.getTradeHistoryBySell          : <==      Total: 0
2022-11-09 11:35:39.685  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:35:41.054 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where direction='BUY' and client_id=?
2022-11-09 11:35:41.055 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : ==> Parameters: 1(String)
2022-11-09 11:35:41.056 DEBUG --- c.s.i.m.T.getTradeHistoryByBuy           : <==      Total: 2
2022-11-09 11:35:41.056  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:36:53.967 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:36:53.988 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 11:36:54.008 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:36:54.039 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:36:54.041 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:36:54.048 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:36:54.087 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:36:54.089 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:36:54.097 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:36:54.111 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:36:54.112 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:36:54.115 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:36:54.167 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 11:36:54.168 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 11:36:54.170 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 11:36:54.189 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:36:54.190 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:36:54.192 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:36:54.193 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:36:54.196 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:36:54.198 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:36:54.199 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:36:54.200 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:36:54.202 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:36:54.208 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:36:54.210 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 73a50123-e2f8-47cc-93fd-71c694663214(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 11:36:54.210 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:36:54.211 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:36:54.212 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 727d672f-ea61-417d-b45c-98207c2f61ba(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:36:54.212 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:36:54.226 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:36:54.227 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:36:54.228 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:36:54.229 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:36:54.229 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:36:54.230 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:36:54.231 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:36:54.232 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:36:54.234 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:36:54.236 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:36:54.237 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: d7aa7684-4820-4d0c-8483-735acac3ec02(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 11:36:54.238 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:36:54.238 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:36:54.239 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), a474f9be-5968-45c8-9343-8007e50f6ae6(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:36:54.239 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:36:54.259 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:36:54.267 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:36:54.280 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:36:54.635  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 7516 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:36:54.635 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:36:54.636  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:36:55.339  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.795 seconds (JVM running for 9.208)
2022-11-09 11:36:55.438  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:36:55.627  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:36:55.645  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:36:55.660 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:36:55.693 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:36:55.694 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:36:55.695 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:36:55.696  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:36:55.707 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:36:55.708 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:36:55.709 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:36:55.709  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:36:55.792  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 7516 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:36:55.792 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:36:55.793  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 11:36:56.613  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 11:36:57.911  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57452 (http) with context path ''
2022-11-09 11:36:57.920  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.196 seconds (JVM running for 11.789)
2022-11-09 11:36:58.094 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:36:58.097 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:36:58.099 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:36:58.100  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:43:34.333  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Starting TradeHistoryServiceIntegrationTest using Java 17.0.1 on a684433win with PID 7684 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:43:34.335 DEBUG --- c.s.r.TradeHistoryServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:43:34.336  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 11:43:39.324  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Started TradeHistoryServiceIntegrationTest in 5.575 seconds (JVM running for 7.105)
2022-11-09 11:43:40.105 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:43:40.134 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:43:40.167 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:43:40.169  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:43:40.222 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:43:40.223 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:43:40.224 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:43:40.224  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:44:31.930  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Starting TradeHistoryServiceIntegrationTest using Java 17.0.1 on a684433win with PID 4308 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:44:31.932 DEBUG --- c.s.r.TradeHistoryServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:44:31.940  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 11:44:36.742  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Started TradeHistoryServiceIntegrationTest in 5.306 seconds (JVM running for 6.774)
2022-11-09 11:44:37.480 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:44:37.511 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:44:37.540 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:44:37.542  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:44:37.575 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:44:37.576 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:44:37.577 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:44:37.577  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:44:37.583  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:45:30.368  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Starting TradeHistoryServiceIntegrationTest using Java 17.0.1 on a684433win with PID 7476 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:45:30.370 DEBUG --- c.s.r.TradeHistoryServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:45:30.371  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 11:45:35.190  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Started TradeHistoryServiceIntegrationTest in 5.325 seconds (JVM running for 6.755)
2022-11-09 11:45:35.963 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:45:35.989 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:45:36.040 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:45:36.043  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:45:36.101 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:45:36.103 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:45:36.104 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:45:36.104  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:45:36.112  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:46:21.937  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Starting TradeHistoryServiceIntegrationTest using Java 17.0.1 on a684433win with PID 7496 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:46:21.939 DEBUG --- c.s.r.TradeHistoryServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:46:21.940  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 11:46:26.913  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Started TradeHistoryServiceIntegrationTest in 5.469 seconds (JVM running for 6.939)
2022-11-09 11:46:27.653 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:46:27.689 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:46:27.722 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:46:27.725  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:46:27.765 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:46:27.766 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:46:27.766 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:46:27.767  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:46:27.773  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:47:47.186  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Starting TradeHistoryServiceIntegrationTest using Java 17.0.1 on a684433win with PID 9208 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:47:47.188 DEBUG --- c.s.r.TradeHistoryServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:47:47.193  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 11:47:52.169  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Started TradeHistoryServiceIntegrationTest in 5.458 seconds (JVM running for 6.893)
2022-11-09 11:47:52.913 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:47:52.936 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:47:52.962 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:47:52.964  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:47:53.005 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:47:53.006 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:47:53.007 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:47:53.008  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:48:13.780 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:48:13.807 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 11:48:13.830 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:48:13.864 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:48:13.866 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:48:13.868 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:48:13.909 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:48:13.910 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:48:13.912 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:48:13.923 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:48:13.925 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:48:13.928 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:48:13.984 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 11:48:13.985 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 11:48:13.987 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 11:48:14.001 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:48:14.003 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:48:14.005 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:48:14.008 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:48:14.010 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:48:14.013 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:48:14.014 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:48:14.015 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:48:14.017 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:48:14.019 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:48:14.021 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: b4816938-30c9-44de-96bb-1097a6b8b2ff(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 11:48:14.022 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:48:14.022 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:48:14.024 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 624f937a-e516-4c8e-84c8-d8f389e0c6b2(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:48:14.025 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:48:14.037 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:48:14.038 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:48:14.039 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:48:14.039 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:48:14.040 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:48:14.041 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:48:14.041 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:48:14.042 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:48:14.044 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:48:14.046 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:48:14.047 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: f133559d-c86e-40ce-99b0-b4279f6e3dea(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 11:48:14.048 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:48:14.049 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:48:14.050 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 0c22657f-76e4-449d-86a3-40da28ea90c3(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:48:14.050 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:48:14.061 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:48:14.065 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:48:14.074 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:48:14.397  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 7336 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:48:14.398 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:48:14.399  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:48:15.140  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.839 seconds (JVM running for 9.197)
2022-11-09 11:48:15.232  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:48:15.496  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:48:15.537  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:48:15.570 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:48:15.654 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:48:15.659 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:48:15.663 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:48:15.664  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:48:15.684 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:48:15.686 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:48:15.687 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:48:15.688  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:48:15.743  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 7336 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:48:15.743 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:48:15.744  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 11:48:16.477  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 11:48:17.824  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58026 (http) with context path ''
2022-11-09 11:48:17.836  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.132 seconds (JVM running for 11.893)
2022-11-09 11:48:18.016 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:48:18.017 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:48:18.019 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:48:18.020  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:54:30.681  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 3876 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:54:30.683 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:54:30.683  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:54:33.117  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 3.069 seconds (JVM running for 4.416)
2022-11-09 11:54:33.285  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:54:33.485  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:54:33.506  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:54:33.523 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:55:22.826  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 7764 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:55:22.828 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:55:22.828  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:55:25.188  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 3.015 seconds (JVM running for 4.447)
2022-11-09 11:55:25.334  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:55:25.553  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:55:25.575  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:55:25.613 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:56:10.498  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 8448 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:56:10.499 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:56:10.500  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:56:12.925  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 3.064 seconds (JVM running for 4.412)
2022-11-09 11:56:13.068  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:56:13.253  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:56:13.271  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:56:13.285 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:57:00.759  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 3880 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:57:00.761 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:57:00.762  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:57:03.123  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 2.988 seconds (JVM running for 4.358)
2022-11-09 11:57:03.232  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:03.401  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:03.416  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:03.436 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:57:22.179 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:57:22.209 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 11:57:22.229 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:57:22.260 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:57:22.262 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:57:22.266 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:57:22.304 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:57:22.307 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:57:22.309 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:57:22.318 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 11:57:22.319 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 11:57:22.323 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 11:57:22.367 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 11:57:22.368 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 11:57:22.369 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 11:57:22.385 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:57:22.387 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:57:22.389 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:57:22.390 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:57:22.393 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:57:22.396 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:57:22.404 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:57:22.405 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:57:22.410 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:57:22.413 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:57:22.417 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 6ccfa2a1-b8fe-47d3-9b30-0b68f06857ed(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 11:57:22.419 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:57:22.420 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:57:22.424 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 47637e81-6141-447a-a4cf-9714c800abc5(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:57:22.425 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:57:22.437 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 11:57:22.438 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 11:57:22.439 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 11:57:22.440 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 11:57:22.441 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 11:57:22.442 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 11:57:22.442 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:57:22.443 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:57:22.446 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:57:22.447 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 11:57:22.448 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 8bf7c305-585b-4de9-9be4-695bd983be4a(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 11:57:22.448 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 11:57:22.449 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 11:57:22.450 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), c6e0470c-1fdc-4a61-9b2a-52b6dc354c73(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 11:57:22.450 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 11:57:22.460 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 11:57:22.462 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 11:57:22.464 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 11:57:22.848  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 3236 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:57:22.849 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:57:22.849  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 11:57:23.558  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.778 seconds (JVM running for 9.209)
2022-11-09 11:57:23.678  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:23.844  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:23.855  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:23.872 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 11:57:23.902 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:57:23.903 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:57:23.904 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:57:23.905  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:23.915 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:57:23.916 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 11:57:23.916 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 11:57:23.917  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 11:57:23.964  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 3236 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 11:57:23.964 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 11:57:23.964  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 11:57:24.660  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 11:57:25.973  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58487 (http) with context path ''
2022-11-09 11:57:25.981  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.05 seconds (JVM running for 11.633)
2022-11-09 11:57:26.140 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 11:57:26.142 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 11:57:26.143 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 11:57:26.144  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 12:06:40.058 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 12:06:40.087 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 12:06:40.106 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 12:06:40.140 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 12:06:40.141 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 12:06:40.145 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 12:06:40.182 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 12:06:40.183 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 12:06:40.188 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 12:06:40.199 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 12:06:40.201 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 12:06:40.204 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 12:06:40.247 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 12:06:40.249 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 12:06:40.250 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 12:06:40.265 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 12:06:40.266 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 12:06:40.268 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 12:06:40.269 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 12:06:40.271 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 12:06:40.274 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 12:06:40.275 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 12:06:40.276 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 12:06:40.278 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 12:06:40.279 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 12:06:40.284 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: dd7f249c-a29c-41c8-a5b5-3810f8565175(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 12:06:40.288 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 12:06:40.289 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 12:06:40.295 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), d7e33b93-9407-4078-aea0-c38622d37fae(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 12:06:40.296 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 12:06:40.314 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 12:06:40.316 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 12:06:40.317 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 12:06:40.317 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 12:06:40.322 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 12:06:40.322 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 12:06:40.323 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 12:06:40.327 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 12:06:40.330 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 12:06:40.332 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 12:06:40.334 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 0988ef50-0620-4c8c-bd52-57bae4d9619e(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 12:06:40.334 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 12:06:40.335 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 12:06:40.341 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 078db7ce-444e-49f3-a1dd-d6d0d862c06e(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 12:06:40.342 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 12:06:40.352 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 12:06:40.353 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 12:06:40.355 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 12:06:40.576  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 6440 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 12:06:40.576 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 12:06:40.577  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 12:06:41.259  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.755 seconds (JVM running for 8.616)
2022-11-09 12:06:41.358  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 12:06:41.585  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 12:06:41.604  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 12:06:41.618 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 12:06:41.653 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 12:06:41.654 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 12:06:41.655 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 12:06:41.656  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 12:06:41.666 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 12:06:41.667 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 12:06:41.667 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 12:06:41.668  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 12:06:41.728  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 6440 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 12:06:41.729 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 12:06:41.729  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 12:06:42.444  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 12:06:43.751  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58958 (http) with context path ''
2022-11-09 12:06:43.760  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.078 seconds (JVM running for 11.118)
2022-11-09 12:06:43.925 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 12:06:43.926 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 12:06:43.927 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 12:06:43.928  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 12:12:23.327 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 12:12:23.356 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 12:12:23.385 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 12:12:23.398 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 12:12:23.400 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 12:12:23.402 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 12:13:16.992 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 12:13:17.020 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 12:13:17.043 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 12:13:17.075 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 12:13:17.077 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 12:13:17.079 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 12:18:23.223 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:18:23.250 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:18:23.279 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:18:45.342 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:18:45.368 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:18:45.393 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:23:19.575 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:23:19.601 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 12:23:19.621 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 12:23:19.651 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:23:19.652 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:23:19.655 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:24:45.894 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:24:45.914 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 12:24:45.940 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 12:24:45.978 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:24:45.991 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:24:45.996 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:25:16.740 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:25:16.763 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:25:16.789 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:26:05.087 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:26:05.117 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:26:05.143 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:26:22.398 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:26:22.425 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 12:26:22.452 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 12:26:22.484 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:26:22.485 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:26:22.489 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:27:03.766 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:27:03.793 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 12:27:03.818 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 12:27:03.846 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:27:03.846 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:27:03.850 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:27:45.136 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:27:45.161 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 99(String)
2022-11-09 12:27:45.181 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 12:27:45.214 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:27:45.216 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:27:45.220 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:33:06.933 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:33:06.965 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 99(String)
2022-11-09 12:33:06.983 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 12:33:07.016 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:33:07.017 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:33:07.020 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 12:36:59.659 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:36:59.689 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 99(String)
2022-11-09 12:36:59.709 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 12:36:59.739 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 12:36:59.740 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 12:36:59.744 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:42:51.292 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:42:51.315 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:42:51.345 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:42:51.371 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:42:51.372 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:42:51.372 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:45:15.666 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:45:15.692 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:45:15.717 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:45:15.753 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:45:15.755 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:45:15.755 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:46:03.408 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:46:03.429 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:46:03.455 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:46:03.491 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:46:03.492 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:46:03.492 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:50:24.474 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:50:24.499 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:50:24.520 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:50:24.553 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:50:24.554 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:50:24.555 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:53:16.244 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:53:16.268 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:53:16.291 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:53:16.339 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:53:16.341 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:53:16.342 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:55:36.870 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:55:36.891 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:55:36.928 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:55:36.972 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:55:36.979 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:55:36.986 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:55:37.002 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:55:37.004 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:55:37.005 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:56:15.863 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:56:15.906 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 13:56:15.932 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 13:56:15.961 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:56:15.962 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:56:15.967 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:56:16.006 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 13:56:16.008 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 13:56:16.011 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 13:56:16.029 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 13:56:16.032 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 13:56:16.039 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 13:56:16.098 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:56:16.099 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:56:16.100 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:56:16.111 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:56:16.113 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:56:16.113 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:56:16.120 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:56:16.121 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:56:16.123 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:56:16.149 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 13:56:16.150 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 13:56:16.152 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 13:56:16.167 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 13:56:16.168 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 13:56:16.169 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 13:56:16.171 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 13:56:16.172 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 13:56:16.175 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 13:56:16.176 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:56:16.177 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:56:16.179 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:56:16.180 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 13:56:16.181 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 04d921f7-b196-4f78-b507-f25bef4689f6(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 13:56:16.181 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 13:56:16.182 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 13:56:16.183 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 7a825a7b-34de-4670-86d5-31e461e6d472(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 13:56:16.184 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 13:56:16.193 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 13:56:16.194 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 13:56:16.197 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 13:56:16.199 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 13:56:16.199 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 13:56:16.200 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 13:56:16.201 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:56:16.203 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:56:16.205 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:56:16.206 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 13:56:16.206 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 25a3e82b-f66b-4a30-8d16-c3722cb25462(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 13:56:16.207 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 13:56:16.208 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 13:56:16.209 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 637961c5-c543-4cc2-a51f-29a6ac35529b(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 13:56:16.209 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 13:56:16.218 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:56:16.219 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:56:16.220 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:56:16.433  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 6924 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 13:56:16.433 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 13:56:16.434  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 13:56:17.182  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.789 seconds (JVM running for 8.84)
2022-11-09 13:56:17.280  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:56:17.459  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:56:17.470  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:56:17.484 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 13:56:17.517 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:56:17.518 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:56:17.519 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:56:17.520  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:56:17.529 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:56:17.530 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 13:56:17.531 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 13:56:17.531  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:56:17.581  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 6924 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 13:56:17.581 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 13:56:17.582  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 13:56:18.221  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 13:56:19.592  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 64419 (http) with context path ''
2022-11-09 13:56:19.601  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.056 seconds (JVM running for 11.259)
2022-11-09 13:56:19.757 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:56:19.761 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:56:19.763 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:56:19.765  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:56:52.782 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:56:52.832 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 13:56:52.865 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 13:56:52.892 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:56:52.893 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:56:52.899 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:56:52.938 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 13:56:52.940 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 13:56:52.943 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 13:56:52.951 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 13:56:52.952 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 13:56:52.960 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 13:56:53.009 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:56:53.010 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:56:53.011 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:56:53.024 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:56:53.025 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:56:53.026 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:56:53.033 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:56:53.034 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:56:53.036 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:56:53.066 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 13:56:53.068 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 13:56:53.069 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 13:56:53.083 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 13:56:53.084 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 13:56:53.085 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 13:56:53.087 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 13:56:53.089 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 13:56:53.091 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 13:56:53.093 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:56:53.095 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:56:53.098 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:56:53.100 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 13:56:53.101 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: e6e6cdc0-71e3-4d96-8abd-789414fbf0fd(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 13:56:53.101 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 13:56:53.102 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 13:56:53.107 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 33301af0-666a-48a1-83b4-f8c73bcc6959(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 13:56:53.108 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 13:56:53.121 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 13:56:53.125 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 13:56:53.126 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 13:56:53.127 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 13:56:53.127 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 13:56:53.128 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 13:56:53.128 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:56:53.130 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:56:53.145 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:56:53.147 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 13:56:53.149 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: b5150c93-826b-48e8-b081-6471a18fa55c(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 13:56:53.150 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 13:56:53.150 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 13:56:53.151 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), f494d728-e158-470e-b04f-d8e312561b62(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 13:56:53.151 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 13:56:53.163 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:56:53.166 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:56:53.171 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:57:08.352  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 6868 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 13:57:08.353 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 13:57:08.354  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 13:57:10.654  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 2.868 seconds (JVM running for 4.221)
2022-11-09 13:57:10.819  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:11.034  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:11.051  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:11.083 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 13:57:11.250  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Starting TradeHistoryServiceIntegrationTest using Java 17.0.1 on a684433win with PID 6868 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 13:57:11.250 DEBUG --- c.s.r.TradeHistoryServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 13:57:11.250  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 13:57:14.844  INFO --- c.s.r.TradeHistoryServiceIntegrationTest : Started TradeHistoryServiceIntegrationTest in 3.663 seconds (JVM running for 8.41)
2022-11-09 13:57:14.906 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:14.932 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:57:14.965 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:57:14.967  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:14.985 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:14.986 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 13:57:14.986 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 13:57:14.987  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:15.041  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 6868 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 13:57:15.042 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 13:57:15.042  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 13:57:15.677  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 13:57:16.968  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 64474 (http) with context path ''
2022-11-09 13:57:16.973  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 1.969 seconds (JVM running for 10.54)
2022-11-09 13:57:17.149 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:17.151 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:57:17.152 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:57:17.153  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:46.314 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:46.334 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 13:57:46.353 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 13:57:46.383 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:46.385 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:57:46.389 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:57:46.423 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 13:57:46.425 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 13:57:46.427 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 13:57:46.438 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 13:57:46.442 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 13:57:46.448 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 13:57:46.513 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:57:46.515 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:57:46.516 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:57:46.530 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:57:46.531 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:57:46.533 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:57:46.544 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:57:46.546 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:57:46.546 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:57:46.554 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:57:46.555 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:57:46.556 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 13:57:46.591 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 13:57:46.591 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 13:57:46.593 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 13:57:46.608 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 13:57:46.609 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 13:57:46.610 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 13:57:46.611 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 13:57:46.613 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 13:57:46.617 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 13:57:46.618 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:57:46.619 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:57:46.620 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:57:46.622 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 13:57:46.623 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 6b84906b-48a8-4d44-97ff-adeee4408c10(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 13:57:46.623 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 13:57:46.624 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 13:57:46.625 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), b4669476-def7-4fe5-9b1b-915a17151367(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 13:57:46.626 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 13:57:46.634 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 13:57:46.634 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 13:57:46.635 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 13:57:46.635 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 13:57:46.637 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 13:57:46.638 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 13:57:46.639 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:57:46.640 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:57:46.645 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:57:46.647 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 13:57:46.648 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 93d716c8-1998-48cd-8fec-530d5e4c4da5(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 13:57:46.648 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 13:57:46.648 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 13:57:46.649 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), d18963e8-c04e-44df-9beb-e19d5f2100bc(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 13:57:46.650 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 13:57:46.658 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 13:57:46.659 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 13:57:46.661 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 13:57:46.870  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 6788 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 13:57:46.870 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 13:57:46.871  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 13:57:47.547  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.722 seconds (JVM running for 8.476)
2022-11-09 13:57:47.642  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:47.814  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:47.827  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:47.840 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 13:57:47.873 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:47.874 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:57:47.876 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:57:47.876  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:47.886 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:47.886 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 13:57:47.887 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 13:57:47.888  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:57:47.930  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 6788 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 13:57:47.930 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 13:57:47.931  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 13:57:48.567  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 13:57:49.882  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 64507 (http) with context path ''
2022-11-09 13:57:49.893  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 1.994 seconds (JVM running for 10.821)
2022-11-09 13:57:50.061 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 13:57:50.063 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 13:57:50.064 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 13:57:50.064  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 13:58:46.052 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:58:46.077 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 13:58:46.098 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 13:58:46.143 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 13:58:46.144 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 13:58:46.148 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 13:58:46.158 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 13:58:46.159 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 13:58:46.160 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:00:46.628 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:00:46.660 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:00:46.680 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:00:46.709 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:00:46.711 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:00:46.716 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:00:46.726 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:00:46.727 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:00:46.728 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:00:46.739 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:00:46.741 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:00:46.742 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:01:17.957 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:01:17.981 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:01:18.006 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:01:18.039 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:01:18.040 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:01:18.044 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:01:18.053 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:01:18.054 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:01:18.055 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:01:18.070 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:01:18.071 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:01:18.073 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:01:54.330 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:01:54.354 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:01:54.372 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:01:54.406 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:01:54.408 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:01:54.408 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:01:54.416 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:01:54.417 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:01:54.421 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:01:54.433 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:01:54.434 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:01:54.437 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:01:54.473 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:01:54.475 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:01:54.476 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:02:06.527 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:02:06.550 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:02:06.572 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:02:06.617 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:02:06.619 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:02:06.621 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:02:06.638 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:02:06.639 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:02:06.644 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:02:06.655 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:02:06.657 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:02:06.658 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:02:06.677 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:02:06.678 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:02:06.679 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:03:06.698 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:03:06.723 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:03:06.746 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:03:06.774 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:03:06.776 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:03:06.776 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:03:06.782 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:03:06.783 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:03:06.787 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:03:06.796 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:03:06.797 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: null
2022-11-09 14:03:06.797 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:03:06.814 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:03:06.815 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:03:06.816 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:04:47.880 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:04:47.904 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:04:47.926 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:04:47.955 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:04:47.956 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:04:47.957 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:04:47.965 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:04:47.965 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:04:47.968 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:04:47.977 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:04:47.978 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:04:47.979 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:04:47.988 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:04:47.989 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:04:47.990 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:05:05.924 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:05.950 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:05:05.974 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:05:06.005 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:06.006 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:05:06.007 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:05:06.016 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:06.017 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:05:06.021 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:05:06.031 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:05:06.032 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: null
2022-11-09 14:05:06.032 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:05:06.046 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:06.047 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:05:06.048 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:05:24.108 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:24.136 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:05:24.161 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:05:24.195 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:24.197 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:05:24.197 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:05:24.210 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:24.212 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:05:24.216 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:05:24.228 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:05:24.229 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:05:24.229 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:05:24.241 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:05:24.242 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:05:24.243 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:20:20.990 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:20:21.014 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:20:21.032 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:20:21.066 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:20:21.067 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:20:21.068 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:20:21.076 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:20:21.077 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:20:21.081 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:20:21.091 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:20:21.091 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:20:21.092 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:20:21.101 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:20:21.102 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:20:21.103 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:20:21.104 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:20:21.105 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:20:21.106 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:20:21.106 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:20:21.107 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:20:21.109 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:20:21.110 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:20:21.111 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:20:21.111 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:20:21.119 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:20:21.120 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:20:21.121 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:22:16.838 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:22:16.867 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:22:16.888 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:22:16.928 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:22:16.931 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:22:16.932 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:22:16.948 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:22:16.950 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:22:16.954 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:22:16.968 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:22:16.969 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:22:16.971 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:22:17.003 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:22:17.005 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:22:17.007 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:22:17.009 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:22:17.017 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:22:17.019 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:22:17.020 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:22:17.021 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:22:17.024 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:22:17.025 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:22:17.026 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:22:17.026 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:22:17.035 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:22:17.037 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:22:17.038 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:23:15.172 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:15.202 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:23:15.226 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:23:15.255 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:15.256 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:23:15.257 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:23:15.265 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:15.266 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:23:15.269 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:23:15.281 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:23:15.283 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:23:15.284 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:23:15.294 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:23:15.295 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:23:15.296 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:23:15.297 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:15.298 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:23:15.299 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:23:15.300 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:23:15.301 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:23:15.304 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:23:15.304 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:23:15.305 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:23:15.306 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:23:15.317 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:15.318 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:23:15.319 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:23:41.764 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:41.789 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:23:41.811 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:23:41.846 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:41.847 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:23:41.848 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:23:41.856 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:41.856 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:23:41.860 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:23:41.875 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:23:41.876 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:23:41.877 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:23:41.886 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:23:41.886 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 14:23:41.887 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:23:41.905 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:23:41.906 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:23:41.907 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:24:18.846 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:18.872 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:24:18.900 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:24:18.933 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:18.935 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:24:18.935 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:24:18.943 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:18.944 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:24:18.947 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:24:18.960 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:24:18.962 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:24:18.964 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:24:18.976 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:24:18.976 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:24:18.977 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:24:18.978 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:18.979 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:24:18.979 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:24:18.980 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:24:18.981 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:24:18.983 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:24:18.984 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:24:18.985 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:24:18.985 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:24:18.995 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:18.996 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:24:18.997 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:24:38.249 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:24:38.290 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 14:24:38.321 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 14:24:38.370 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:24:38.377 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:24:38.382 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:24:38.410 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 14:24:38.411 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 14:24:38.413 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 14:24:38.421 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 14:24:38.422 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 14:24:38.424 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 14:24:38.469 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:38.470 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:24:38.471 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:24:38.479 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:38.480 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:24:38.481 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:24:38.488 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:38.488 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:24:38.489 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:24:38.497 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:24:38.498 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:24:38.500 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:24:38.508 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:24:38.508 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:24:38.509 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:24:38.509 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:38.509 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:24:38.510 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:24:38.511 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:24:38.511 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:24:38.514 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:24:38.514 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:24:38.515 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:24:38.515 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:24:38.523 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:24:38.527 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:24:38.528 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:24:38.569 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 14:24:38.571 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 14:24:38.572 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 14:24:38.589 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 14:24:38.605 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 14:24:38.606 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 14:24:38.607 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 14:24:38.610 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 14:24:38.611 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 14:24:38.612 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:24:38.613 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:24:38.619 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:24:38.623 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 14:24:38.624 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 17c663dc-b67a-49a5-80bd-67e9c6df0e62(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 14:24:38.624 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 14:24:38.625 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 14:24:38.626 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 26f1b611-77da-43b2-b1af-f00145041b6b(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 14:24:38.627 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 14:24:38.635 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 14:24:38.635 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 14:24:38.636 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 14:24:38.637 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 14:24:38.637 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 14:24:38.638 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 14:24:38.638 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:24:38.640 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:24:38.643 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:24:38.645 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 14:24:38.646 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: a333b1ca-910e-46e7-b8eb-bccb57cffda2(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 14:24:38.646 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 14:24:38.647 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 14:24:38.648 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 274e1bf2-84dd-4d05-b6f7-a31fd473f8f2(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 14:24:38.648 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 14:24:38.656 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:24:38.657 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:24:38.658 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:24:38.869  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 6556 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 14:24:38.870 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 14:24:38.870  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 14:24:39.609  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.773 seconds (JVM running for 8.825)
2022-11-09 14:24:39.710  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:24:39.891  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:24:39.902  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:24:39.915 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 14:24:39.947 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:24:39.948 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:24:39.949 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:24:39.949  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:24:39.958 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:24:39.959 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 14:24:39.959 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 14:24:39.959  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:24:40.046  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 6556 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 14:24:40.046 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 14:24:40.047  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 14:24:40.763  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 14:24:42.077  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 49490 (http) with context path ''
2022-11-09 14:24:42.086  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.114 seconds (JVM running for 11.302)
2022-11-09 14:24:42.254 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:24:42.255 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:24:42.256 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:24:42.257  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:35:16.142 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:35:16.181 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:35:16.224 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:37:21.378 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:37:21.403 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:37:21.428 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:38:28.468 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:38:28.494 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:38:28.525 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:38:28.558 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:38:28.560 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:38:28.560 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:40:29.786 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:40:29.813 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:40:29.840 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:40:29.874 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:40:29.876 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:40:29.876 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:42:11.575 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:42:11.594 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:42:11.618 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:42:33.049 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:42:33.074 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:42:33.102 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:42:33.133 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:42:33.135 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:42:33.135 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:42:33.143 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:42:33.144 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:42:33.148 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:42:33.162 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:42:33.163 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:42:33.164 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:42:33.177 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:42:33.178 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:42:33.178 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:42:33.179 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:42:33.180 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:42:33.181 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:42:33.181 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:42:33.182 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:42:33.185 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:42:33.187 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:42:33.188 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:42:33.188 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:42:33.196 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:42:33.197 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 14:42:33.197 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:42:33.205 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:42:33.206 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:42:33.207 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:44:31.436 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:44:31.468 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:44:31.493 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:44:31.529 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:44:31.531 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 14:44:31.531 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:44:31.551 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:44:31.553 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:44:31.553 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:44:31.563 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:44:31.563 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:44:31.567 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:44:31.576 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:44:31.576 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:44:31.577 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:44:31.584 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:44:31.585 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:44:31.586 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:44:31.587 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:44:31.604 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:44:31.607 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:44:31.608 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:44:31.609 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:44:31.611 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:44:31.612 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:44:31.612 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:44:31.613 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:44:31.619 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:44:31.621 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 14:44:31.622 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:44:31.632 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:44:31.633 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:44:31.635 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:45:22.621 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:45:22.646 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 14:45:22.667 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 14:45:22.701 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:45:22.702 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:45:22.706 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:45:22.739 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 14:45:22.741 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 14:45:22.743 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 14:45:22.749 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 14:45:22.751 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 14:45:22.753 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 14:45:22.868 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:45:22.869 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:45:22.870 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:45:22.880 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:45:22.882 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:45:22.882 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:45:22.896 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:45:22.897 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:45:22.898 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:45:22.908 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:45:22.909 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:45:22.912 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:45:22.922 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:45:22.923 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:45:22.926 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:45:22.928 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:45:22.929 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:45:22.930 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:45:22.932 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:45:22.933 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:45:22.940 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:45:22.941 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:45:22.943 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:45:22.943 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:45:22.957 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:45:22.961 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 14:45:22.961 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:45:22.975 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:45:22.977 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:45:22.978 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:45:23.002 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:45:23.004 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:45:23.005 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:45:23.014 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:45:23.016 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:45:23.017 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:45:23.048 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 14:45:23.050 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 14:45:23.052 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 14:45:23.074 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 14:45:23.077 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 14:45:23.080 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 14:45:23.082 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 14:45:23.084 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 14:45:23.085 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 14:45:23.087 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:45:23.090 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:45:23.107 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:45:23.113 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 14:45:23.114 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 45cd06e8-5d15-43fa-92a0-6725cd738f32(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 14:45:23.116 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 14:45:23.116 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 14:45:23.119 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), f9eea995-0b61-4703-b761-2f5db1f7b923(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 14:45:23.119 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 14:45:23.127 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 14:45:23.128 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 14:45:23.129 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 14:45:23.131 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 14:45:23.132 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 14:45:23.132 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 14:45:23.133 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:45:23.134 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:45:23.135 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:45:23.136 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 14:45:23.137 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 48aac09a-508d-40c9-9c99-5cb10011b1b0(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 14:45:23.137 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 14:45:23.138 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 14:45:23.139 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 07ab3d5e-b159-4013-8ce4-abcfe585f680(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 14:45:23.139 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 14:45:23.146 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:45:23.147 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:45:23.149 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:45:23.357  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 8268 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 14:45:23.358 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 14:45:23.358  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 14:45:23.997  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.711 seconds (JVM running for 8.677)
2022-11-09 14:45:24.087  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:45:24.322  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:45:24.332  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:45:24.342 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 14:45:24.373 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:45:24.374 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:45:24.376 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:45:24.376  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:45:24.384 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:45:24.385 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 14:45:24.385 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 14:45:24.386  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:45:24.431  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 8268 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 14:45:24.431 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 14:45:24.431  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 14:45:25.119  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 14:45:26.349  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 50754 (http) with context path ''
2022-11-09 14:45:26.356  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 1.958 seconds (JVM running for 11.036)
2022-11-09 14:45:26.517 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:45:26.521 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:45:26.522 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:45:26.523  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:51:34.681 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:51:34.706 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:51:34.734 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:51:34.766 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:51:34.767 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:51:34.768 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:51:34.775 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 14:51:34.776 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: 8bacabf8-c2f4-4a6e-974b-50b761cef19b(String), aaa1234(String), aa@gmail.com(String), 0(BigDecimal), aa1234(String)
2022-11-09 14:51:34.776 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 14:51:57.353 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:51:57.380 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:51:57.404 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:51:57.443 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:51:57.445 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:51:57.445 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:51:57.456 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 14:51:57.457 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: e056d908-ae1a-4d42-bd80-38e8227b4415(String), aaa1234(String), aa@gmail.com(String), 0(BigDecimal), aa1234(String)
2022-11-09 14:51:57.458 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 14:52:30.814 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:52:30.837 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:52:30.855 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:52:30.886 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:52:30.887 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:52:30.888 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:52:30.896 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 14:52:30.897 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: 14a7e9e8-bb7a-40cc-ab8e-cdf5d9d9937f(String), aaa1234(String), aa@gmail.com(String), 0(BigDecimal), aa1234(String)
2022-11-09 14:52:30.898 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 14:53:06.701 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:53:06.728 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:53:06.772 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:53:06.840 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:53:06.846 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:53:06.846 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:53:06.854 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 14:53:06.855 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: e8984310-7400-4040-8da8-d07a63821e57(String), aaa1234(String), aa@gmail.com(String), 0(BigDecimal), aa1234(String)
2022-11-09 14:53:06.856 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 14:53:28.640 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:53:28.666 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 14:53:28.693 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 14:53:28.721 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:53:28.723 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:53:28.727 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:53:28.763 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 14:53:28.765 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 14:53:28.767 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 14:53:28.776 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 14:53:28.778 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 14:53:28.780 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 14:53:28.817 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:53:28.819 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 14:53:28.820 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:53:28.829 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:53:28.830 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 14:53:28.831 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 14:53:28.837 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:53:28.838 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:53:28.839 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:53:28.856 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:53:28.857 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:53:28.858 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:53:28.865 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:53:28.866 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 14:53:28.867 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 14:53:28.868 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:53:28.869 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:53:28.871 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:53:28.872 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 14:53:28.872 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 14:53:28.874 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 14:53:28.875 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 14:53:28.875 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 14:53:28.875 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 14:53:28.884 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 14:53:28.884 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 14:53:28.885 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 14:53:28.894 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 14:53:28.895 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 14:53:28.896 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 14:53:28.916 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:53:28.916 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 14:53:28.917 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 14:53:28.938 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 14:53:28.943 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 14:53:28.944 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 14:53:28.957 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 14:53:28.958 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: 738daf6a-703a-49df-9cfa-a8035849201a(String), aaa1234(String), aa@gmail.com(String), 0(BigDecimal), aa1234(String)
2022-11-09 14:53:28.958 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 14:53:28.989 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 14:53:28.990 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 14:53:28.993 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 14:53:29.009 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 14:53:29.010 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 14:53:29.012 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 14:53:29.014 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 14:53:29.016 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 14:53:29.016 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 14:53:29.017 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:53:29.018 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:53:29.019 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:53:29.021 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 14:53:29.021 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: d1115865-9834-4406-9d8b-3a085d9bb6da(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 14:53:29.022 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 14:53:29.026 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 14:53:29.031 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 7e44f061-3d7b-45e4-8782-d5106897aef2(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 14:53:29.032 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 14:53:29.039 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 14:53:29.039 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 14:53:29.040 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 14:53:29.040 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 14:53:29.041 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 14:53:29.042 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 14:53:29.042 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:53:29.042 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:53:29.043 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:53:29.044 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 14:53:29.045 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 40e0b5ea-10de-473d-8b6e-4a6a2c0bd944(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 14:53:29.045 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 14:53:29.046 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 14:53:29.046 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), d961685f-adc6-4501-8df7-905fff721d32(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 14:53:29.047 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 14:53:29.052 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 14:53:29.053 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 14:53:29.054 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 14:53:29.261  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 4300 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 14:53:29.261 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 14:53:29.262  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 14:53:29.939  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.717 seconds (JVM running for 8.579)
2022-11-09 14:53:30.029  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:53:30.209  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:53:30.220  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:53:30.232 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 14:53:30.256 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:53:30.258 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:53:30.259 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:53:30.259  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:53:30.270 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:53:30.272 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 14:53:30.274 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 14:53:30.274  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 14:53:30.344  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 4300 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 14:53:30.345 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 14:53:30.345  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 14:53:31.006  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 14:53:32.231  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 51166 (http) with context path ''
2022-11-09 14:53:32.240  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 1.939 seconds (JVM running for 10.88)
2022-11-09 14:53:32.394 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 14:53:32.395 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 14:53:32.397 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 14:53:32.398  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:13:30.481  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Starting SmallChangeWalletServiceE2ETest using Java 17.0.1 on a684433win with PID 8232 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:13:30.482 DEBUG --- c.s.r.SmallChangeWalletServiceE2ETest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:13:30.483  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : The following 1 profile is active: "dev"
2022-11-09 15:13:32.657  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:13:35.487  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52167 (http) with context path ''
2022-11-09 15:13:35.507  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Started SmallChangeWalletServiceE2ETest in 5.527 seconds (JVM running for 6.832)
2022-11-09 15:13:36.465 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:13:36.488 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:13:36.512 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:13:36.514  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:15:42.857  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Starting SmallChangeWalletServiceE2ETest using Java 17.0.1 on a684433win with PID 7212 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:15:42.861 DEBUG --- c.s.r.SmallChangeWalletServiceE2ETest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:15:42.863  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : The following 1 profile is active: "dev"
2022-11-09 15:15:45.271  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:15:48.425  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52281 (http) with context path ''
2022-11-09 15:15:48.448  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Started SmallChangeWalletServiceE2ETest in 6.111 seconds (JVM running for 7.52)
2022-11-09 15:15:49.534 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:15:49.560 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:15:49.585 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:15:49.587  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:16:03.673  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 15:16:05.177  WARN --- ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-11-09 15:16:05.223 ERROR --- o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-11-09 15:16:17.003  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-11-09 15:16:18.521  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-09 15:16:49.097 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 15:16:49.115 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 15:16:49.132 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 15:16:49.133  INFO --- c.s.r.ClientAuthenticationService        : Successful retrieval
2022-11-09 15:16:49.198 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 15:16:49.199 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:16:49.200 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 15:16:49.200 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:16:49.201 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:16:49.202  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:16:49.202 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 15:16:49.203  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 15:16:49.218 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 15:16:49.219 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 15:16:49.221 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 15:16:49.222  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 15:16:53.520 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:16:53.521 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:16:53.522 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:16:53.522  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:17:10.650 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:17:10.651 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:17:10.652 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:17:10.652 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:17:10.653 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:17:10.654 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:17:10.655 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 15:17:10.657 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3454.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 15:17:10.659 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 15:17:10.660 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 15:17:10.661 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 7766.99000000000000000000000000000000(BigDecimal), 1(String), IIGG776(String)
2022-11-09 15:17:10.661 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 15:17:10.662  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:17:10.675 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:17:10.678 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:17:10.679 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:17:10.679  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:17:14.146 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 15:17:14.148 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 15:17:14.150 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 15:17:14.150  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:17:15.450 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:17:15.451 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:17:15.452 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:17:15.452  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:17:15.458 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 15:17:15.460 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 15:17:15.462 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 15:17:15.462  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 15:17:15.470 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 15:17:15.472 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 15:17:15.473 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 15:17:15.474  INFO --- c.s.restService.PortfolioService         : Successful retrieval
2022-11-09 15:18:43.491  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Starting SmallChangeWalletServiceE2ETest using Java 17.0.1 on a684433win with PID 7888 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:18:43.493 DEBUG --- c.s.r.SmallChangeWalletServiceE2ETest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:18:43.495  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : The following 1 profile is active: "dev"
2022-11-09 15:18:45.843  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:18:48.825  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52513 (http) with context path ''
2022-11-09 15:18:48.847  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Started SmallChangeWalletServiceE2ETest in 5.862 seconds (JVM running for 7.215)
2022-11-09 15:18:49.869 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:18:49.900 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 15:18:49.924 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 15:18:49.927 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 15:18:50.071 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:18:50.072 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:18:50.075 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:18:50.076  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:19:16.037  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Starting SmallChangeWalletServiceE2ETest using Java 17.0.1 on a684433win with PID 7292 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:19:16.039 DEBUG --- c.s.r.SmallChangeWalletServiceE2ETest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:19:16.040  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : The following 1 profile is active: "dev"
2022-11-09 15:19:18.292  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:19:21.182  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52546 (http) with context path ''
2022-11-09 15:19:21.200  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Started SmallChangeWalletServiceE2ETest in 5.674 seconds (JVM running for 7.125)
2022-11-09 15:19:22.134 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:19:22.156 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 15:19:22.177 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 15:19:22.179 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 15:19:22.304 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:19:22.305 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:19:22.308 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:19:22.309  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:22:25.428  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Starting SmallChangeWalletServiceE2ETest using Java 17.0.1 on a684433win with PID 8336 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:22:25.430 DEBUG --- c.s.r.SmallChangeWalletServiceE2ETest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:22:25.431  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : The following 1 profile is active: "dev"
2022-11-09 15:22:27.701  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:22:30.663  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52731 (http) with context path ''
2022-11-09 15:22:30.682  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Started SmallChangeWalletServiceE2ETest in 5.738 seconds (JVM running for 7.07)
2022-11-09 15:22:31.635 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:22:31.663 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 15:22:31.686 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 15:22:31.688 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 15:22:31.823 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:22:31.824 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:22:31.829 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:22:31.830  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:22:31.883 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:22:31.884 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:22:31.885 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:22:31.886  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:28:17.068  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Starting SmallChangeWalletServiceE2ETest using Java 17.0.1 on a684433win with PID 8272 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:28:17.070 DEBUG --- c.s.r.SmallChangeWalletServiceE2ETest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:28:17.070  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : The following 1 profile is active: "dev"
2022-11-09 15:28:19.347  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:28:22.251  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 53027 (http) with context path ''
2022-11-09 15:28:22.270  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Started SmallChangeWalletServiceE2ETest in 5.709 seconds (JVM running for 7.05)
2022-11-09 15:28:23.225 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:28:23.245 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 15:28:23.265 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 15:28:23.267 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 15:28:23.396 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:28:23.397 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:28:23.401 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:28:23.402  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:28:23.476 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:28:23.477 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:28:23.478 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:28:23.479  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:28:23.518 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:28:23.520 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 15:28:23.520 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 15:28:23.521  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:28:48.678  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Starting SmallChangeWalletServiceE2ETest using Java 17.0.1 on a684433win with PID 9140 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:28:48.680 DEBUG --- c.s.r.SmallChangeWalletServiceE2ETest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:28:48.683  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : The following 1 profile is active: "dev"
2022-11-09 15:28:50.938  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:28:53.862  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 53058 (http) with context path ''
2022-11-09 15:28:53.882  INFO --- c.s.r.SmallChangeWalletServiceE2ETest    : Started SmallChangeWalletServiceE2ETest in 5.694 seconds (JVM running for 7.018)
2022-11-09 15:28:54.793 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:28:54.817 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 15:28:54.850 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 15:28:54.852 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 15:28:54.991 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:28:54.992 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:28:54.995 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:28:54.995  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:28:55.047 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:28:55.048 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:28:55.049 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:28:55.050  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:28:55.080 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:28:55.081 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 15:28:55.082 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 15:28:55.082  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:30:35.046 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 15:30:35.067 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 15:30:35.089 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 15:30:35.114 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 15:30:35.116 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 15:30:35.121 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 15:30:35.154 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 15:30:35.155 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 15:30:35.157 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 15:30:35.164 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 15:30:35.166 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 15:30:35.169 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 15:30:35.232 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:30:35.235 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 15:30:35.237 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 15:30:35.249 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:30:35.251 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 15:30:35.252 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 15:30:35.259 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:30:35.260 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:30:35.261 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:30:35.272 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:30:35.273 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:30:35.273 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:30:35.280 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:30:35.281 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:30:35.282 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:30:35.282 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:30:35.283 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:30:35.284 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:30:35.284 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 15:30:35.285 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 15:30:35.287 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 15:30:35.288 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 15:30:35.289 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 15:30:35.289 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 15:30:35.301 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:30:35.302 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 15:30:35.303 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 15:30:35.314 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:30:35.315 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:30:35.316 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:30:35.342 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 15:30:35.343 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 15:30:35.344 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 15:30:35.352 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 15:30:35.353 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 15:30:35.354 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 15:30:35.362 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 15:30:35.363 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: 48b48a5d-0318-4d71-bde9-794b9dbbb079(String), aaa1234(String), aa@gmail.com(String), 0(BigDecimal), aa1234(String)
2022-11-09 15:30:35.363 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 15:30:35.385 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 15:30:35.385 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 15:30:35.388 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 15:30:35.400 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 15:30:35.402 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 15:30:35.404 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 15:30:35.407 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 15:30:35.409 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 15:30:35.410 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 15:30:35.410 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 15:30:35.413 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 15:30:35.421 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 15:30:35.426 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 15:30:35.427 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: cd2f1764-80d7-44ec-aae9-c19fb78f1003(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 15:30:35.429 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 15:30:35.430 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 15:30:35.435 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 3b597c1b-82cf-47fe-9fa0-01400b46bd67(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 15:30:35.436 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 15:30:35.452 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 15:30:35.454 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 15:30:35.455 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 15:30:35.455 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 15:30:35.456 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 15:30:35.458 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 15:30:35.458 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 15:30:35.459 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 15:30:35.461 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 15:30:35.463 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 15:30:35.464 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: b157e516-627a-4589-a960-a5a7e416cae7(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 15:30:35.464 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 15:30:35.465 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 15:30:35.466 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 94d97b6e-8a92-4bc7-b6a8-a38c265e7507(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 15:30:35.466 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 15:30:35.474 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 15:30:35.475 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 15:30:35.476 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 15:30:35.639  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 8452 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:30:35.639 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:30:35.639  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 15:30:36.323  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.72 seconds (JVM running for 8.508)
2022-11-09 15:30:36.423  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:30:36.603  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:30:36.621  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:30:36.635 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 15:30:36.669 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 15:30:36.670 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 15:30:36.671 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 15:30:36.672  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:30:36.680 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 15:30:36.681 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 15:30:36.682 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 15:30:36.683  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:30:36.735  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 8452 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 15:30:36.735 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 15:30:36.735  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 15:30:37.392  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 15:30:38.622  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 53149 (http) with context path ''
2022-11-09 15:30:38.629  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 1.931 seconds (JVM running for 10.815)
2022-11-09 15:30:38.793 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 15:30:38.794 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 15:30:38.795 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 15:30:38.796  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 15:30:38.905 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:30:38.906 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 15:30:38.907 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 15:30:38.907 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 15:30:38.951 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 15:30:38.952 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 15:30:38.953 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 15:30:38.953  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:30:38.976 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:30:38.976 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 15:30:38.978 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 15:30:38.979  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 15:30:39.003 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 15:30:39.003 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 15:30:39.004 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 15:30:39.004  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:33:47.813  INFO --- .SmallChangeWalletServiceIntegrationTest : Starting SmallChangeWalletServiceIntegrationTest using Java 17.0.1 on a684433win with PID 7292 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 16:33:47.815 DEBUG --- .SmallChangeWalletServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 16:33:47.816  INFO --- .SmallChangeWalletServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 16:33:52.271  INFO --- .SmallChangeWalletServiceIntegrationTest : Started SmallChangeWalletServiceIntegrationTest in 4.941 seconds (JVM running for 6.299)
2022-11-09 16:33:52.966 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:33:52.991 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:33:53.012 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:33:53.014  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:36:21.326  INFO --- .SmallChangeWalletServiceIntegrationTest : Starting SmallChangeWalletServiceIntegrationTest using Java 17.0.1 on a684433win with PID 7412 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 16:36:21.327 DEBUG --- .SmallChangeWalletServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 16:36:21.328  INFO --- .SmallChangeWalletServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 16:36:26.135  INFO --- .SmallChangeWalletServiceIntegrationTest : Started SmallChangeWalletServiceIntegrationTest in 5.296 seconds (JVM running for 6.666)
2022-11-09 16:36:26.914 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:36:26.942 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:36:26.970 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:36:26.972  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:37:00.791  INFO --- .SmallChangeWalletServiceIntegrationTest : Starting SmallChangeWalletServiceIntegrationTest using Java 17.0.1 on a684433win with PID 9672 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 16:37:00.792 DEBUG --- .SmallChangeWalletServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 16:37:00.793  INFO --- .SmallChangeWalletServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 16:37:05.315  INFO --- .SmallChangeWalletServiceIntegrationTest : Started SmallChangeWalletServiceIntegrationTest in 4.977 seconds (JVM running for 6.33)
2022-11-09 16:37:06.011 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:37:06.036 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 16:37:06.060 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 16:37:06.062 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 16:37:06.091 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:37:06.094 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:37:06.098 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:37:06.099  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:40:49.760  INFO --- .SmallChangeWalletServiceIntegrationTest : Starting SmallChangeWalletServiceIntegrationTest using Java 17.0.1 on a684433win with PID 6476 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 16:40:49.761 DEBUG --- .SmallChangeWalletServiceIntegrationTest : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 16:40:49.763  INFO --- .SmallChangeWalletServiceIntegrationTest : The following 1 profile is active: "dev"
2022-11-09 16:40:54.319  INFO --- .SmallChangeWalletServiceIntegrationTest : Started SmallChangeWalletServiceIntegrationTest in 4.963 seconds (JVM running for 6.294)
2022-11-09 16:40:55.024 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:40:55.051 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 16:40:55.072 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 16:40:55.074 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 16:40:55.101 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:40:55.101 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:40:55.105 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:40:55.106  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:42:13.688 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 16:42:13.712 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 99(String)
2022-11-09 16:42:13.748 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 16:42:13.776 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 16:42:13.778 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 16:42:13.782 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 16:42:13.814 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 16:42:13.816 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 16:42:13.818 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 16:42:13.828 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==>  Preparing: SELECT I.NAME, I.CODE, I.CURRENT_PRICE, I.CATEGORY,H.BUYPRICE,H.QUANTITY,H.QUANTITY*I.CURRENT_PRICE AS CURRENT_VALUE, H.QUANTITY*H.BUYPRICE AS INVESTED_AMOUNT,((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)) AS PROFIT_OR_LOSS, ((((H.QUANTITY*I.CURRENT_PRICE)-(H.QUANTITY*H.BUYPRICE)))/(H.QUANTITY*H.BUYPRICE))*100 AS PERCENTAGE_CAHNGE FROM holdings H JOIN instrument I ON h.code=i.code WHERE H.CLIENT_ID=?
2022-11-09 16:42:13.831 DEBUG --- c.s.i.m.P.getUserPortfolio               : ==> Parameters: 1(String)
2022-11-09 16:42:13.833 DEBUG --- c.s.i.m.P.getUserPortfolio               : <==      Total: 2
2022-11-09 16:42:13.867 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 16:42:13.868 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: null
2022-11-09 16:42:13.869 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 16:42:13.876 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 16:42:13.878 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 16:42:13.879 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 16:42:13.887 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 16:42:13.889 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 16:42:13.889 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 16:42:13.899 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:42:13.904 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:42:13.906 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:42:13.925 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:42:13.929 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:42:13.931 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:42:13.933 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 16:42:13.934 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 16:42:13.936 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 16:42:13.937 DEBUG --- c.s.i.m.S.updateClientTable              : ==>  Preparing: update client set client_smallchange_wallet = ? where client_id = ?
2022-11-09 16:42:13.938 DEBUG --- c.s.i.m.S.updateClientTable              : ==> Parameters: 3477.60000000000000000000000000000000(BigDecimal), 1(String)
2022-11-09 16:42:13.945 DEBUG --- c.s.i.m.S.updateClientTable              : <==    Updates: 1
2022-11-09 16:42:13.946 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==>  Preparing: update client_finance_details set account_balance = ? where client_id = ? and account_number = ?
2022-11-09 16:42:13.947 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : ==> Parameters: 45645411.60000000000000000000000000000000(BigDecimal), 1(String), 122354D(String)
2022-11-09 16:42:13.948 DEBUG --- c.s.i.m.S.updateClientFinanceTable       : <==    Updates: 1
2022-11-09 16:42:13.956 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:42:13.957 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 16:42:13.958 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 16:42:13.966 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 16:42:13.967 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 16:42:13.968 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 16:42:13.993 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 16:42:13.995 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki@gmail.com(String), teamloki(String)
2022-11-09 16:42:13.996 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 1
2022-11-09 16:42:14.004 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==>  Preparing: select client_id from client where client_mail=? and password=?
2022-11-09 16:42:14.007 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : ==> Parameters: teamloki1@gmail.com(String), teamloki(String)
2022-11-09 16:42:14.008 DEBUG --- c.s.i.m.C.getLoginAuthenticationDetails  : <==      Total: 0
2022-11-09 16:42:14.018 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==>  Preparing: insert into client(CLIENT_ID ,CLIENT_NAME ,CLIENT_MAIL ,CLIENT_SMALLCHANGE_WALLET ,PASSWORD ) values(?,?,?,?,?)
2022-11-09 16:42:14.018 DEBUG --- m.C.putRegistrationAuthenticationDetails : ==> Parameters: 8dcf66a0-6235-43a1-8e40-06a807c10a4c(String), aaa1234(String), aa@gmail.com(String), 0(BigDecimal), aa1234(String)
2022-11-09 16:42:14.019 DEBUG --- m.C.putRegistrationAuthenticationDetails : <==    Updates: 1
2022-11-09 16:42:14.045 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==>  Preparing: select code, name, category, cast(round(current_price,2) as numeric(16,2)) from instrument
2022-11-09 16:42:14.046 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : ==> Parameters: 
2022-11-09 16:42:14.048 DEBUG --- c.s.i.m.OrderMapper.getBuyInstrument     : <==      Total: 4
2022-11-09 16:42:14.057 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 16:42:14.058 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 16:42:14.059 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 16:42:14.061 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 16:42:14.063 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 16:42:14.064 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 16:42:14.064 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 16:42:14.065 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 16:42:14.067 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 16:42:14.068 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 16:42:14.069 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: 584223ea-fb91-404e-8ea3-ec6814955cdc(String), 240.00(BigDecimal), 1(String), SBIMF(String), 6(Integer)
2022-11-09 16:42:14.070 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 16:42:14.071 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 16:42:14.072 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), SBIMF(String), buy(String), 0fbb2d3d-19a6-4350-a9a7-6c3f2e3e4159(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 16:42:14.072 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 16:42:14.079 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==>  Preparing: select COALESCE(CLIENT_SMALLCHANGE_WALLET,0.0) from client where client_id=?
2022-11-09 16:42:14.079 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : ==> Parameters: 1(String)
2022-11-09 16:42:14.079 DEBUG --- c.s.i.m.OrderMapper.getClientWallet      : <==      Total: 1
2022-11-09 16:42:14.080 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==>  Preparing: Update client set client_smallchange_wallet =? where client_id=?
2022-11-09 16:42:14.081 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : ==> Parameters: 2004.6(Float), 1(String)
2022-11-09 16:42:14.081 DEBUG --- c.s.i.m.O.updateClientWalletBuy          : <==    Updates: 1
2022-11-09 16:42:14.082 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 16:42:14.082 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 16:42:14.084 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 16:42:14.085 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==>  Preparing: Insert into holdings (holding_id,buyprice,client_id,code,quantity) Values (?,?,?,?,?)
2022-11-09 16:42:14.087 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : ==> Parameters: b86728fd-1f2e-40de-9563-535b7df85afa(String), 240.00(BigDecimal), 1(String), APL(String), 6(Integer)
2022-11-09 16:42:14.088 DEBUG --- c.s.i.m.O.putBuyTradeHoldingsInsert      : <==    Updates: 1
2022-11-09 16:42:14.089 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==>  Preparing: Insert into orders (buy_price,client_id,code,direction,order_id,quantity,timestamp) Values (?,?,?,?,?,?,?)
2022-11-09 16:42:14.090 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : ==> Parameters: 240.00(BigDecimal), 1(String), APL(String), buy(String), 4f72e358-afe3-4e14-84b3-56cebea68816(String), 6(Integer), 2022-11-09(LocalDate)
2022-11-09 16:42:14.090 DEBUG --- c.s.i.m.OrderMapper.putBuyTradeOrder     : <==    Updates: 1
2022-11-09 16:42:14.099 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==>  Preparing: SELECT h.holding_id, h.client_id, h.code, i.name, i.category, h.quantity, cast(round(i.current_price,2) as numeric(16,2)) FROM holdings h join instrument i on h.code=i.code
2022-11-09 16:42:14.100 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : ==> Parameters: 
2022-11-09 16:42:14.101 DEBUG --- c.s.i.m.OrderMapper.getSellInstrument    : <==      Total: 3
2022-11-09 16:42:14.308  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Starting TradeHistoryServiceWebLayerTest using Java 17.0.1 on a684433win with PID 7780 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 16:42:14.309 DEBUG --- c.s.r.TradeHistoryServiceWebLayerTest    : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 16:42:14.309  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : The following 1 profile is active: "dev"
2022-11-09 16:42:14.985  INFO --- c.s.r.TradeHistoryServiceWebLayerTest    : Started TradeHistoryServiceWebLayerTest in 0.714 seconds (JVM running for 8.621)
2022-11-09 16:42:15.074  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 16:42:15.263  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 16:42:15.273  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 16:42:15.284 ERROR --- c.s.restService.TradeHistoryService      : mock exception
2022-11-09 16:42:15.318 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 16:42:15.320 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 16:42:15.321 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 16:42:15.322  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 16:42:15.329 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 16:42:15.330 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 0(String)
2022-11-09 16:42:15.331 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 0
2022-11-09 16:42:15.331  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 16:42:15.343 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:42:15.344 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 16:42:15.344 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 16:42:15.345 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 16:42:15.350 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:42:15.351 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:42:15.351 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:42:15.352  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:42:15.430  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Starting TradeHistoryServiceE2ETest using Java 17.0.1 on a684433win with PID 7780 (started by a684433 in D:\Team_Loki_Small_Change\1\Small-Change-Team-Loki\SmallChangeJava)
2022-11-09 16:42:15.430 DEBUG --- c.s.r.TradeHistoryServiceE2ETest         : Running with Spring Boot v2.6.7, Spring v5.3.19
2022-11-09 16:42:15.431  INFO --- c.s.r.TradeHistoryServiceE2ETest         : The following 1 profile is active: "dev"
2022-11-09 16:42:16.091  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-11-09 16:42:17.410  INFO --- o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56923 (http) with context path ''
2022-11-09 16:42:17.420  INFO --- c.s.r.TradeHistoryServiceE2ETest         : Started TradeHistoryServiceE2ETest in 2.056 seconds (JVM running for 11.056)
2022-11-09 16:42:17.573 DEBUG --- c.s.i.m.T.getTradeHistory                : ==>  Preparing: select i.name,o.code,o.quantity,o.direction,o.Buy_price,i.category from orders o join instrument i on o.code=i.code where client_id=?
2022-11-09 16:42:17.574 DEBUG --- c.s.i.m.T.getTradeHistory                : ==> Parameters: 1(String)
2022-11-09 16:42:17.575 DEBUG --- c.s.i.m.T.getTradeHistory                : <==      Total: 2
2022-11-09 16:42:17.576  INFO --- c.s.restService.TradeHistoryService      : Successful retrieval
2022-11-09 16:42:17.686 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:42:17.687 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 0(String)
2022-11-09 16:42:17.687 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 0
2022-11-09 16:42:17.688 ERROR --- c.s.r.SmallChangeWalletService           : No trade history in the db with that client id
2022-11-09 16:42:17.735 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==>  Preparing: select CLIENT_SMALLCHANGE_WALLET from client where CLIENT_ID =?
2022-11-09 16:42:17.736 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : ==> Parameters: 1(String)
2022-11-09 16:42:17.737 DEBUG --- c.s.i.m.S.getSmallChangeWalletAmount     : <==      Total: 1
2022-11-09 16:42:17.738  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:42:17.781 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 16:42:17.782 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 1(String)
2022-11-09 16:42:17.785 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 2
2022-11-09 16:42:17.791  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
2022-11-09 16:42:17.835 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==>  Preparing: select ACCOUNT_NUMBER, ACCOUNT_BALANCE from CLIENT_FINANCE_DETAILS where client_id=?
2022-11-09 16:42:17.837 DEBUG --- c.s.i.m.S.getBankAccountDetails          : ==> Parameters: 0(String)
2022-11-09 16:42:17.837 DEBUG --- c.s.i.m.S.getBankAccountDetails          : <==      Total: 0
2022-11-09 16:42:17.837  INFO --- c.s.r.SmallChangeWalletService           : Successful retrieval
